{% extends "base.html"%}
    {%block menu%}
        <a href="/login/private/admin">Indietro</a>
        <a href="#">Link</a>
    {%endblock%}
    {%block title%}
        <h1> {{value}}</h1>
    {%endblock%}
    {%block content%}
    
    <body>
         
        <div class="tabedifici">
            <table class="table table-striped">
                <tr>
                    <th> codedificio </th>
                    <th> indirizzo </th>
                </tr> 
                <tbody  class id="EdificiTab"> 
                </tbody>
            </table>
            <button class="open-button" onclick="openForm('edform')">Aggiungi edificio</button>
            <div class="form-popup" id="edform">
               
                <form method="POST" class="form-container" id="eform">
                    <label for="codedificio"><b>codedicificio</b></label>
                    <input type="text" placeholder="Inserire codice" name="codedificio" required>
                    <br>
                    <label for="indirizzo"><b>Indirizzo</b></label><br>
                    <input type="text" placeholder="inserire indirizzo" name="indirizzo" required>

                    <button type="submit"  class="btn">Aggiungi</button>
                    <button type="button" class="btn cancel" onclick="closeForm('edform')">Close</button>
                </form>
            </div>


        </div>
        <!---------------------------visualizzazione aule--------------------------------->
        <div class="tabaule">
            <table class="table table-striped">
                <tr>
                    <th> codaula </th>
                    <th> capienza </th>
                    <th> edificio </th>
                    <th> piano </th>
                </tr> 
                <tbody  class id="AuleTab"> 
                </tbody>
            </table>
            <button class="open-button" onclick="openForm('auform')">Aggiungi aula</button>
            <div class="form-popup" id="auform">
               
                <form method="POST" class="form-container" id="aform">
                    <label for="codaula"><b>codaula</b></label><br>
                    <input type="number" placeholder="Inserire codice" name="codaula" required>
                        <br>
                    <label for="capienza"><b>capienza</b></label><br>
                    <input type="number" placeholder="Inserire capienza" name="capienza" required>
                        <br>
                    <label for="edificio"><b>edificio</b></label><br>
                    <input type="text" placeholder="inserire edificio appartenenza" name="edificio" required>
                        <br>
                    <label for="piano"><b>piano</b></label><br>
                    <input type="number" placeholder="inserire piano" name="piano" required>

                    <button type="submit"  class="btn">Aggiungi</button>
                    <button type="button" class="btn cancel" onclick="closeForm('auform')">Close</button>
                </form>
            </div>
        </div>
        <!--------------------------------visualizzazione corsi------------------------->
        <div class="tabaule">
            <table class="table table-striped">
                <tr>
                    <th> codcorso </th>
                    <th> nome </th>
                    <th> professore </th>
                    <th> datainizio </th>
                    <th> datafine </th>
                </tr> 
                <tbody  class id="CorsiTab"> 
                </tbody>
            </table>
            <button class="open-button" onclick="openForm('corsiform')">Aggiungi aula</button>
            <div class="form-popup" id="corsiform">
               
                <form method="POST" class="form-container" name="cform">
                    <label for="codcorso"><b>codcorso</b></label><br>
                    <input type="text" placeholder="Inserire codice" name="codcorso" required>
                    <br>

                    <label for="nome"><b>nome</b></label><br>
                    <input type="text" placeholder="Inserire nome" name="nome" required>
                    <br>

                    <label for="professore"><b>professore</b></label><br>
                    <input type="text" placeholder="inserire professore" name="professore" required>
                    <br>

                    <label for="datainizio"><b>datainizio</b></label><br>
                    <input type="date"  name="datainizio" required>
                    <br>

                    <label for="datafine"><b>datafine</b></label><br>
                    <input type="date"  name="datafine" required>

                    <br>
                    <label for="descrizione"><b>descrizione</b></label><br>
                    <input type="text" placeholder="Inserire descrizione" name="descrizione" required>
                    

                    <button type="submit"  class="btn">Aggiungi</button>
                    <button type="button" class="btn cancel" onclick="closeForm('corsiform')">Close</button>
                </form>
            </div>
        </div>

       

    </body>
<script type="text/javascript">
//per vedere tutti gli users da fare tabella
/*------------------------------------------------------*/
    var edifici = decodeHtml('{{edifici}}');
    var jedifici = JSON.parse(edifici);
    console.log(jedifici);
    //fine variabili
    //chiamate
    tab_edifici(jedifici);
    //funzioni  
    function tab_edifici(data){
        var table = document.getElementById('EdificiTab');

        for (var i = 0; i < data.length; i++){
        var row = `<tr>
                        <td>${data[i].codedificio}</td>
                        <td>${data[i].indirizzo}</td>
                        
                  </tr>`
        
        table.innerHTML += row


        }
       
    }
/*---------------------------aule------------------------------------------*/

    var aule = decodeHtml('{{aule}}');
    var jaule = JSON.parse(aule);
    console.log(jaule);
    //fine variabili
    //chiamate
    tab_aule(jaule)
    //funzioni  
    function tab_aule(data){
        var table = document.getElementById('AuleTab');

        for (var i = 0; i < data.length; i++){
        var row = `<tr>
                        <td>${data[i].codaula}</td>
                        <td>${data[i].capienza}</td>
                        <td>${data[i].edificio}</td>
                        <td>${data[i].piano}</td>
                        
                  </tr>`
        
        table.innerHTML += row


        }
       
    }




/*----------------------------corsi-----------------------------------------*/
 var corsi = decodeHtml('{{corsi}}');
    var jcorsi = JSON.parse(corsi);
    console.log( " jcorsiii!!" + jcorsi);
    //fine variabili
    //chiamate

    tab_corsi(jcorsi)
    //funzioni  
    function tab_corsi(data){
        var table = document.getElementById('CorsiTab');

        for (var i = 0; i < data.length; i++){
        var row = `<tr>
                        <td>${data[i].codcorso}</td>
                        <td>${data[i].nome}</td>
                        <td>${data[i].professore}</td>
                        <td>${data[i].datainizio}</td>
                        <td>${data[i].datafine}</td>
                        
                  </tr>`
        
        table.innerHTML += row


        }
       
    }
/*--------------------------------------------------------------*/
    function decodeHtml(html) {
            var txt = document.createElement("textarea");
            txt.innerHTML = html;
            return txt.value;
    }

    function openForm(name) {
    document.getElementById(name).style.display = "block";
    }

    function closeForm(name) {
    document.getElementById(name).style.display = "none";
    }

</script>
{%endblock%}








